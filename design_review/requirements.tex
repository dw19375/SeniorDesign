\newlength{\mytabwidth}
\setlength{\mytabwidth}{0.5\textwidth}
\addtolength{\mytabwidth}{-2\tabcolsep}
\addtolength{\mytabwidth}{-3\arrayrulewidth}

\section{Requirements and Verifications}
\subsection{Remote Temperature Sensor Unit}
\subsubsection{Power Supply}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The output of the voltage regulator must be $3.3\vdc \pm 0.1\vdc$ for an input of 5\,V and an output of 500\,mA. & Measure the output voltage with a load current of 500\mamps\ ($6.6\ohms$ at 3.3\volts) and ensure it meets specifications.\\
\hline
\end{tabular}

\subsubsection{Sensor Data Collection}
\label{sensor_data}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The MCU will read the ambient temperature data from an external sensor via a 1-wire protocol.  &
Ensure that the MCU communicates with the temperature sensor and a valid temperature value is read. \\
\hline
The MCU will convert the raw temperature data, as needed, to tenths of degrees Celsius (e.g., $T\times10$). &
Ensure the proper conversion of the raw data is taking place. \\
\hline
The MCU will read the calibration values for the humidity sensor via the I$^2$C bus, if needed. &
Ensure that the MCU communicates with the humidity sensor and that valid calibration values are read. \\
\hline
The MCU will read the ambient relative humidity from the humidity sensor. &
Ensure the MCU reads the output of the humidity sensor and that a valid relative humidity is read. \\
\hline
\end{tabular}

\subsubsection{Sensor Accuracy}
\label{sensor_acc}
{\em The exact accuracy requirements of the sensors, and hence the verification procedures, are not critical to the system's performance, and are meant only as general guidelines. }

\noindent
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The temperature sensor should output the ambient temperature with an error of no more than $\pm0.5^\circ\,$C over a range of 10--32$^\circ$\,C. &
The data sheet of the temperature sensor should indicate an accuracy within specifications. \\
\hline
The humidity sensor should output the ambient relative humidity with an error of no more than $\pm 5$\% RH. over a range of 10\%--90\%\ RH. &
The data sheet of the RH sensor should indicate an accuracy within specifications. \\
\hline
\end{tabular}

\subsubsection{Network}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The MCU will initialize the wireless transceiver with a pre-programmed SSID, password, and static IP address. &
Ensure that the wireless transceiver is able to associate with the router. \\
\hline
The MCU will periodically transmit a packet to the central control unit containing the most recent temperature and humidity data along with a unique identification. &
Ensure that a packet containing the necessary data is sent to the central control unit. \\
\hline
\end{tabular}

\subsection{Vent Control Unit}
\subsubsection{Servo Control}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The MCU shall cause the servo motor to open the vent upon receipt of the appropriate packet. &
Send the appropriate packet to the vent controller and the vent should open. \\
The MCU shall cause the servo motor to close the vent upon receipt of the appropriate packet. &
Send the appropriate packet to the vent controller and the vent should close. \\
\hline
\end{tabular}

\subsubsection{Network}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The MCU will initialize the wireless transceiver with a pre-programmed SSID, password, and static IP address. &
Ensure that the wireless transceiver is able to associate with the router. \\
\hline
The MCU will listen for packets on the wireless network and take appropriate action when a command packet is received. &
Send a command packet to the vent controller and the vent should take the appropriate action. \\
\hline
The MCU will acknowledge command packets by sending an ACK packet to the central control unit. &
When a command packet is received at the vent controller, ensure an ACK is sent back to the central control unit. \\
\hline
\end{tabular}

\subsection{Main Control Unit}
\subsubsection{Power Supply}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The output of the voltage regulator must be $3.3\vdc \pm 0.1\vdc$ for an input of 5\,V and an output of 500\,mA. & Measure the output voltage with a load current of 500\mamps\ ($6.6\ohms$ at 3.3\volts) and ensure it meets specifications.\\
\hline
\end{tabular}

\subsubsection{Local Sensor Data Collection}
{\em See \S \ref{sensor_data}---the same requirements and verification procedures are used here.}
\subsubsection{Local Sensor Accuracy}
{\em See \S \ref{sensor_acc}---the same requirements and verification procedures are used here.}

\subsubsection{Network}
\begin{tabular}{|p{\mytabwidth}|p{\mytabwidth}|}
\hline
\multicolumn{1}{|c|}{Requirement} & \multicolumn{1}{|c|}{Verification} \\
\hline\hline
The MCU will initialize the wireless transceiver with a pre-programmed SSID, password, and static IP address. &
Ensure that the wireless transceiver is able to associate with the router. \\
\hline
The MCU will listen for packets from the remote sensor units and update the values for temperature and humidity. &
When a packet from a remote sensor is received, the data corresponding to that sensor should be updated with the new values. \\
\hline
After the MCU sends a command packet to a vent controller, if an ACK is not received within a specified amount of time, the packet will be resent up to three times. &
Send a command packet to a PC and listen for the initial packet and three resent packets. \\
\hline
When the MCU receives a command packet from the user, an acknowledgment will be sent to the sender of the packet. &
Send a command packet to the central control unit and listen for an ACK packet. \\
\hline
\end{tabular}
